<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Will you be my Valentine?</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="stage">
    <div class="card">
      <h1 class="title">Will you be my Valentine?</h1>
      <p class="subtitle">I've been dreaming of this momentâ€¦</p>

      <div class="buttons">
        <button id="yes" class="btn yes">Yes ðŸ’–</button>
        <button id="no" class="btn no">No ðŸ˜…</button>
      </div>
    </div>
  </main>

  <div id="confetti-container" aria-hidden="true"></div>

  <div id="modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="modal-content">
      <h2 id="modal-title">Yay! ðŸ’•</h2>
      <p>Thank you â€” you made my day. Let's celebrate together!</p>
      <button id="close" class="btn">Close</button>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
:root{
  --bg1: #ff9a9e;
  --bg2: #fecfef;
  --accent: #ff6b95;
  --muted: rgba(0,0,0,0.6);
  --card-bg: rgba(255,255,255,0.9);
  --glass: rgba(255,255,255,0.6);
  --btn-radius: 999px;
  --max-width: 540px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: linear-gradient(135deg,var(--bg1),var(--bg2));
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  overflow:hidden;
}

.stage{width:100%;max-width:var(--max-width)}
.card{
  background:var(--card-bg);
  border-radius:18px;
  padding:36px;
  text-align:center;
  box-shadow: 0 8px 30px rgba(0,0,0,0.12);
  backdrop-filter: blur(6px);
}

.title{
  margin:0 0 8px;
  font-size:clamp(1.4rem, 3.5vw, 2.6rem);
  letter-spacing: -0.02em;
  color:#6b0f3b;
}

.subtitle{
  margin:0 0 22px;
  color:var(--muted);
}

.buttons{
  display:flex;
  gap:14px;
  justify-content:center;
  align-items:center;
  position:relative;
  min-height:64px;
}

.btn{
  cursor:pointer;
  border:0;
  padding:12px 22px;
  font-size:1rem;
  border-radius:var(--btn-radius);
  transition:transform .18s ease, box-shadow .18s ease;
  box-shadow: 0 6px 18px rgba(107,15,59,0.12);
  user-select:none;
}

.btn:active{transform:translateY(2px)}

.yes{
  background: linear-gradient(90deg,#ff9bb0,#ff6b95);
  color:white;
}

.no{
  background: linear-gradient(90deg,#fff0f6,#ffe7ef);
  color:#6b0f3b;
  border:1px solid rgba(107,15,59,0.03);
  position:relative;
}

/* modal */
.modal{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,0.28);
  z-index:50;
}

.modal.hidden{display:none}

.modal-content{
  background:var(--glass);
  padding:20px 26px;
  border-radius:14px;
  min-width:260px;
  text-align:center;
  box-shadow: 0 10px 30px rgba(0,0,0,0.18);
  transform:translateY(-8px);
  animation:pop .22s ease forwards;
}

@keyframes pop{
  from{opacity:0; transform:translateY(-18px) scale(.98)}
  to{opacity:1; transform:translateY(0) scale(1)}
}

/* confetti */
.confetti{
  position:fixed;
  width:10px;
  height:14px;
  z-index:40;
  pointer-events:none;
  opacity:0.95;
  transform-origin:center;
  border-radius:2px;
  will-change:transform,opacity;
  animation:fall linear forwards;
}

@keyframes fall{
  to{ transform: translateY(120vh) rotate(720deg); opacity:0.85 }
}

/* small screens */
@media (max-width:480px){
  .buttons{gap:10px}
  .btn{padding:10px 14px}
}
const yes = document.getElementById('yes');
const no = document.getElementById('no');
const modal = document.getElementById('modal');
const close = document.getElementById('close');
const confettiContainer = document.getElementById('confetti-container');

let dodgeCount = 0; // how many times "No" dodged

// Move the "No" button to a random visible position (fixed)
function dodgeNo() {
  // on small screens allow click (so people can actually use it)
  if (window.innerWidth < 520) return;

  dodgeCount++;
  const btn = no;
  const bw = btn.offsetWidth;
  const bh = btn.offsetHeight;

  const margin = 16;
  const maxX = Math.max(window.innerWidth - bw - margin, margin);
  const maxY = Math.max(window.innerHeight - bh - margin, margin);

  const x = Math.floor(Math.random() * (maxX - margin)) + margin;
  const y = Math.floor(Math.random() * (maxY - margin)) + margin;

  btn.style.position = 'fixed';
  btn.style.left = x + 'px';
  btn.style.top = y + 'px';
  btn.style.transition = 'left 220ms ease, top 220ms ease, transform 200ms ease';
  // playful wiggle
  btn.style.transform = 'rotate(' + (Math.random()*30 - 15) + 'deg)';
  setTimeout(()=> btn.style.transform = 'rotate(0deg)', 250);

  // after it dodged a few times, give up and allow click
  if (dodgeCount > 6) {
    btn.removeEventListener('mouseenter', dodgeNo);
    btn.title = "Okay... you can click me now.";
  }
}

// Confetti generator (hearts/rectangles)
function burstConfetti(amount = 36) {
  const colors = ['#ff6b95','#ffb3c6','#ffd6e5','#ff9bb0','#ffc3a0','#ffdeeb'];
  for (let i=0;i<amount;i++){
    const el = document.createElement('div');
    el.className = 'confetti';
    el.style.background = colors[Math.floor(Math.random()*colors.length)];
    el.style.left = (window.innerWidth * Math.random()) + 'px';
    el.style.top = (-20 - Math.random()*40) + 'px';
    el.style.width = (8 + Math.random()*10) + 'px';
    el.style.height = (10 + Math.random()*14) + 'px';
    el.style.borderRadius = (Math.random() > 0.7 ? '50%' : '3px');
    const duration = 1200 + Math.random()*1200;
    el.style.animationDuration = duration + 'ms';
    el.style.transform = 'rotate('+ (Math.random()*360) +'deg)';
    confettiContainer.appendChild(el);
    // cleanup
    setTimeout(()=> el.remove(), duration + 200);
  }
}

// yes click
yes.addEventListener('click', () => {
  modal.classList.remove('hidden');
  burstConfetti(40);
  // optional: simple pulse on yes
  yes.animate([
    { transform: 'scale(1)' },
    { transform: 'scale(1.06)' },
    { transform: 'scale(1)' }
  ], { duration: 400 });
});

// close modal
close.addEventListener('click', () => {
  modal.classList.add('hidden');
});

// make "No" dodge on mouseenter
no.addEventListener('mouseenter', dodgeNo);

// accessibility: allow keyboard users to choose
no.addEventListener('click', () => {
  // If it was never clicked (because dodge prevented), show a short message
  if (dodgeCount <= 1 && window.innerWidth >= 520) {
    alert("Hmm â€” try again? ðŸ˜‰");
  } else {
    // Let them click "No" if they actually get it
    modal.classList.remove('hidden');
    const node = document.createElement('div');
    node.textContent = "It's okay â€” thank you for being honest.";
    node.style.padding = '8px';
    node.style.marginTop = '8px';
    node.style.color = '#6b0f3b';
    document.querySelector('.modal-content').appendChild(node);
  }
});
